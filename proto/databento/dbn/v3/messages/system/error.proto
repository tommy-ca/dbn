syntax = "proto3";

package databento.dbn.v3.messages.system;

import "databento/dbn/v3/common/header.proto";

option go_package = "github.com/databento/dbn/gen/go/databento/dbn/v3/messages/system";
option java_multiple_files = true;
option java_package = "com.databento.dbn.v3.messages.system";

// ErrorMsg represents error messages from the gateway.
// Binary layout: 312 bytes (v2/v3), 80 bytes (v1), 8-byte aligned
// RType: 0x03 (ERROR)
message ErrorMsg {
  // Common record header (16 bytes)
  databento.dbn.v3.common.RecordHeader hd = 1;

  // Error message text (c_char array in binary)
  string err = 2;

  // Error code (u32, fixed-width)
  fixed32 code = 3;

  // Last in chain flag (bool in binary)
  bool is_last = 4;
}
