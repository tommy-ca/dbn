syntax = "proto3";

package databento.dbn.v3.messages.aggregated;

import "databento/dbn/v3/common/header.proto";

option go_package = "github.com/databento/dbn/gen/go/databento/dbn/v3/messages/aggregated";
option java_multiple_files = true;
option java_package = "com.databento.dbn.v3.messages.aggregated";

// OhlcvMsg represents OHLCV (candlestick) data.
// Binary layout: 56 bytes, 8-byte aligned
// RTypes: OHLCV_1S (0x20), OHLCV_1M (0x21), OHLCV_1H (0x22), OHLCV_1D (0x23), OHLCV_EOD (0x24)
message OhlcvMsg {
  // Common record header (16 bytes)
  databento.dbn.v3.common.RecordHeader hd = 1;

  // Open price (i64, fixed-width, signed)
  // Fixed-point: divide by 1,000,000,000 to get decimal price
  sfixed64 open = 2;

  // High price (i64, fixed-width, signed)
  // Fixed-point: divide by 1,000,000,000 to get decimal price
  sfixed64 high = 3;

  // Low price (i64, fixed-width, signed)
  // Fixed-point: divide by 1,000,000,000 to get decimal price
  sfixed64 low = 4;

  // Close price (i64, fixed-width, signed)
  // Fixed-point: divide by 1,000,000,000 to get decimal price
  sfixed64 close = 5;

  // Total volume (u64, fixed-width)
  fixed64 volume = 6;
}
